
## Admin API ##

### Agent ###

- rd agent [--login=<agent_login>] [--select <mongo_selector>]
	- [status] # показать общую сводку по состоянию агента
	- [--send|--message=<tag=text>]  # отправть агенту/агентам стандартное или специфическое сообщение
	- online   # показать только периоды активности пользователя
	- log 
		- [--tail=<n>] # показать последние n записей журнала агента (по умолчанию 20)
		- [--follow]   # подписаться на события журнала агнента и выводить их по мере получения
		- level [--set=<new_logging_level>]  # показать/изменить уровень логирования для агента
	- ban  # отключение и блокировка дальнейших подключений агента
		- [--reason=<tag=text>]  # причина стандартная (по тегу) или особая (custom) с текстовым описанием
		- [--message=<tag=text>] # сообщение для агента
		- [--period=<PERIOD>]    # период блокировки, например: 30m, 2d15h22m, 13:48, 2017-09-11T13:30
		- [--restart]            # заблокировать до перезагрузки сервера
	- unban # снять блокировку агента
		- [--reason=<tag=text>]
		- [--message=<tag=text>]
		- [--at=<when>]          # когда или через какое время снять блокировку (см. ban --period...)
		- [--restart]
	- backup [<tag|id>]  # сохранить резервную копию состояния агента, назначить ей тег для идентификации
	- restore [<tag|id>] # восстановить последнее или конкретное состояние агента
	- backups --select   # выборка бэкапов состояния агента
	- give <URI> [--count=n] # Дать n предметов по URI, по умолчанию 1
	- take <id|UID|URI> [--count=n]  # Отнять по возможности n заданных предметов
	- goto <position|@login|^town|!UID> [--randomize=<radius>] [--rmin=<min_radius>] [--rmax=<max_radius>]
	- # TODO: дать/отнять опыта
	- # TODO: дать/отнять артефакт
	- car
		- .. # показать информацию о машине агента
		- set <id|UID|URI|json> # установить машину (свою или новую)
			- [--replace] # заменить существующую (по умолчанию)
			- [--send_old=<town>] # отправть старую на хранение в заданный город
			- [--send_new=<town>] # отправть новую на хранение в заданный город
		- list # показать список автомобилей агента по городам с идентификаторами
		- inv # показать инвентарь агента
		- tp <town|position>  # телепортировать агента в заданный город или точку
		- money
			- .. # показать финансовый счет агента
			- [<new_value>] # установить количество денег на счету в заданное значение
			- [-<value>]    # отнять заданное количество денег
			- [+<value>]    # добавить заданное количество
		- hp
			- .. # показать кол-во HP активной машины агента
			- [<value>]  # установть активной машине клиента value HP
			- [-<value>] # отнять value HP у активной машины агента
			- [+<value>] # добавить value HP активной машине агента
		- kill # эквивалентно hp 0
		- quest
			- .. # показать сводку состояний активных квестов агента
			- [<id|UID|URI>] # показать только конкретный квест или все типа URI
			- [--st=<none|active|end>]  # отфильтровать квесты по состоянию (можно через запятую)
			- [--res=<win|fail>]  # отфильтровать квесты по результату
			- [--win] # эквивалент --res=win
			- [--fail] # эквивалент --res=fail
			- [--active] # показывать активные
			- [--end]  # показывать оконченные
			- [--ids]  # показывать только идентификаторы
			- [--detail]  # детальная информация о состоянии квеста
			- give <URI> # выдать квест типа URI
				- [--accept] # сразу принять (активировать) его
				- [--win] # сразу пометить успешно пройденым
				- [--fail] # сразу пометить проваленным
			- accept <id|UID> # принять конкретный квест из имеющихся
				- [--win] # сразу пометить успешно пройденым
				- [--fail] # сразу пометить проваленным
			- del <id|UID|URI> # полностью удалить конкретные квесты агента
		- zombi [<tag|bot_quest_URI>] # превратить машинку игрока в зомби под управлением AI

- rd map
	- deploy <tag|URI> --pos=<tag|position> # установить на карту
		- [--randomize=<radius>]
		- [--rmin=<min_radius>]
		- [--rmax=<max_radius>]
	- list [position|@login] --rmax|radius=<max_radius> # показать объекты на карте в радиусе от координат или агента
		- [--rmin=<min_radius>] # но не ближе минимально гадиуса, если он указан
		- [--like=<tag|id|UID|URI>] # отфильтровать по типу, тегам, идентификаторам; можно комбинировать через "," (И) и ";" (ИЛИ)
		- [--ids] # показать только идентификаторы в результате
		- [--del] # удалить выбранные предметы
	- del <tag|id|UID|URI> # удалить с карты соответствующие объекты (по аналогии с синтаксисом "rd map list --like=..")

- # TODO: управление содержимым свалок в городах
- # TODO: управление ассортиметнтом торговцев
- # TODO: управление ценами
- # TODO: управление дефицитом/профицитом
- # TODO: управление ассортиментом квестов у NPC
- # TODO: управление глобальными сценариями (квестами)
- # TODO: создание/деплой ботов
- # TODO: протоколы правки характерстик объектов или копирования их для замены
- # TODO: язык журналируемых транзакций на основе данного API, перевод на него всей игровой логики
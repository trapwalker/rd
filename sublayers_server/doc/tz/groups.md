
# Groups # (menkent, abbir)

Группа - cущность, которая включает в себя:

- список участников (1 и более)
- общий групповой чат, который создаётся при создании группы
- настройка Групп-Лидера (выбираются при создании группы: демократия или авторитаризм)
- настройки деления опыта и лута (выбираются при создании группы создателем группы, их НЕЛЬЗЯ менять после)
- общая область видимости (именно для этого возможно и стоит ввести ограничение на кол-во человек в группе)


Создание группы: 

- группа создаётся следующей API: @group (Можно прописать в чате, а можно нажать специальную кнопку в интерфейсе)
- после данной команды вываливается окно настроек группы: 
	- демократия/Авторитаризм
	- деление опыта
	- деление лута
- после ответа на эти вопросы, нажав ОК, на сервер отправляется @group {настройки_опыта} {настройки лута}
- можно сразу ввести @group share share (или @group share private) и обойтись без вызова окна
- на сервере создаётся группа:
	- в список участников сразу включается инициатор группы
	- создаётся групповой чат
	- фктивируется механизм общей видимости
- на клиент отправляется информация о созданной группе всем участникам (пока один)


Способы деления лута:

- только Лидер группы имеет право собрать вещи и может раздать их участникам группы по своему усмотрению обычным бартером;
- у каждого участника группы есть "свой" собственный лут, который видит только он и собрать может только он;

	
Список участников: 

- добавление производится любым членом группы: 
	- API: @addToGroup {agent}
- отправляется запрос к вступающему, он должен подтвердить или отменить:
	- запрос состоит из имени приглашавшего, информации о делении лута и выбором "вступить" или "нет"
	- если подтверждает, то сервер добавляет agent в группу и отправляет всем "обновлённую группу"
- удаление участников:
	- agent вводит команду @leaveGroup
	- демократическая Группа: Если в группе больше 2 (3 и больше) участников, то любой может инициировать процесс исключения из группы:
		- @kickFromGroup {Agent}
		- у всех участников, кроме Agent и инициатора исключения выводится сообщение об исключении, где будут только варианты да/нет
		- ксли половина участников проголосовала "да", то происходит исключение из группы
	- фвторитарная Группа: Лидер группы имеет возможность кикнуть любого участника группы


Удаление группы: 
	- когда последний участник покидает группу, группа уничтожается
	
Общая область видимости:
	- все участники группы имеют общую область видимости, то есть им отображаются одни и те же объекты.


# Groups # (menkent, abbir)

Группа -- cущность, которая включает в себя:
	-- Список участников (1 и более, обсудить необходимость ограничений);
	-- Общий групповой чат, который создаётся при создании группы;
	-- Настройки деления опыта и лута (выбираются при создании группы создателем группы, их НЕЛЬЗЯ менять после);
	-- Общая область видимости (именно для этого возможно и стоит ввести ограничение на кол-во человек в группе);

Создание группы: 
	-- Группа создаётся следующей API: @group (Можно прописать в чате, а можно нажать специальную кнопку в интерфейсе);
	-- После данной команды вываливается окно настроек группы: 
		-- Деление опыта;
		-- Деление лута;
	-- После ответа на эти вопросы, нажав ОК, на сервер отправляется @group <настройки_опыта> <настройки лута>;
	-- Можно сразу ввести @group share share (или @group share private) и обойтись без вызова окна;
	-- На сервере создаётся группа:
		-- В список участников сразу включается инициатор группы (больше он никак не фигурирует, т.е. не отличается от другичх членов группы);
		-- Создаётся групповой чат;
		-- Активируется механизм общей видимости;
	-- На клиент отправляется информация о созданной группе всем участникам (пока один);

Способы деления лута:
    -- [todo: описать]
	
Список участников: 
	-- Добавление производится любым членом группы: 
		-- API: @addToGroup <agent>;
	-- Отправляется запрос к вступающему, он должен подтвердить или отменить:
		-- Запрос состоит из имени приглашавшего, информации о делении лута и выбором "вступить" или "нет";
		-- Если подтверждает, то сервер добавляет agent в группу и отправляет всем "обновлённую группу";
	-- Удаление участников:
		-- Agent вводит команду @leaveGroup;
		-- Если в группе больше 2 (3 и больше) участников, то любой может инициировать процесс исключения из группы:
			-- @kickFromGroup <Agent>; 
			-- У всех участников, кроме Agent и инициатора исключения выводится сообщение об исключении, где будут только варианты да/нет;
			-- Если половина участников проголосовала "да", то происходит исключение из группы;

Удаление группы: 
	-- Когда последний участник покидает группу, группа уничтожается
	
Общая область видимости [todo: расписать]

# Chat #

Класс AbstractChat [A] содержит: 
	-- id

Наследники: 
	-- PublicChat ([todo: уточнить] общий чат, чат города, пока не понятно что здесь будет)
		-- history (30-50 сообщений)
	-- Chat
		-- имя чата (наверное необязательно)
		-- список участников
		-- Группа (ссылка на группу, если это групповой чат, может быть null)

Инициализация чата: 
	-- PublicChat
		-- Инициализируется автоматически (подъех к городу, он включился, и тд)
	-- Chat
		-- Инициируется атвоматически при следующих событиях
			-- Создание группы
			-- Создание клана [пост релиз]
		-- Инициируется Агентом, когда от него  поступает соответствующий API-запрос: 
			-- @privateChat <имя пользователя>
			-- кликнуть по не своей машинке и выбрать соответствующий пункт меню

Добавление участников: 
	-- PublicChat
		-- Автоматически все видят
	-- Chat
		-- Если Группа, то Автоматически при включении нового члена в группу
		-- Если приватный чат (Группа == null), то добавляются инициатор @privateChat и имя пользователя

Конструктор Chat:
	-- Chat(agent1, agent2) (это приватный чат)
	-- Chat(group) (это групповой чат)
	
Исключения участников из чата: 
	-- PublicChat
		-- Автоматически, если agent offline или выехал за пределы радиосвязи города (обсудить)
	-- Chat
		-- Если Группа==null, то при выходе в offline агента
		-- Если Группа, то при исключении agent из группы

Деструктор чата: 
	-- PublicChat
		-- Никогда
	-- Chat
		-- При длинне списка участников равной 0
		
История чата: 
	-- PublicChat
		-- Необходимо хранить в каждом чате по 30-50 сообщений
	-- Chat 
		-- Нет истории. Может вызвать больше проблем в плане общения людей. 
		
Итог: 
	-- Каждый Агент имеет список своих чатов
	-- Каждый Chat (не публичный) имеет список агентов-участников
	-- Каждая группа, при создании, создаёт свой Chat с одним участником (создателем группы)
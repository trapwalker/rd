<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Test Speed Slider</title>
    <!-- <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css"/> -->
    <link rel="stylesheet" href="css/third_party/jquery-ui.css"/>
    <link rel="stylesheet" href="fireControl.css"/>

    <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> -->
    <!-- <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script> -->
    <script src="js/third_party/jquery.min.js"></script>
    <script src="js/third_party/jquery-ui.min.js"></script>
    <script src="js/model.js"></script>
    <script src="rafael.js"></script>
    <script src="fireControl.js"></script>

</head>
<body>

<div id="speed"></div>
<div id="hp"></div>
<script>


    var sectors = [
        new FireSector(gradToRad(0), gradToRad(30), 40, 1, 6 * 1000),
        new FireSector(gradToRad(180), gradToRad(50), 40, 2, 4 * 1000),
        new FireSector(gradToRad(90), gradToRad(70), 40, 3, 2 * 1000),
        new FireSector(gradToRad(-90), gradToRad(70), 40, 3, 2 * 1000)
    ]

    var qa = new FireControl({
        parentDiv: 'speed',
        diameter: 200,
        sectors: sectors,
        sectorCallBack: cbForSectors,
        allCallBack: cbForAllBtn
    });

    var angle = 0;

    var si = setInterval(function () {
        qa.setRotate(angle);
        angle+=0.1;
    }, 200);

   // setTimeout(function(){clearInterval(si);}, 1800000);

    // колл бек для выстрела того или иного сектора
    function cbForSectors(fs){
        alert('Выстрел из сектора id = '+fs.uid + '   Перезарядка = '+ fs.recharge);
    }
    // коллбек для кнопки All
    function cbForAllBtn(){
        alert('Дан залп из всех орудий своей машинки (user.userCar.id)');
    }


/*
$(document).ready(function() {
    var paper = new Raphael(document.getElementById('speed'), 1000, 1000);
    var tetronimo = paper.path("M 700 700 l 0 -50 l -50 0 l 0 -50 l -50 0 l 0 50 l -50 0 l 0 50 z");
    tetronimo.attr({
        fill: '90-#526c7a-#64a0c1',
        'fill-opacity': 0.5,
        stroke: '#3b4449',
        'stroke-width': 10,
        'stroke-linejoin': 'round',
        rotation: -90
    });
});
*/


</script>
</body>
</html>

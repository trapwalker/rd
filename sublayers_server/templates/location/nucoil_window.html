<style xmlns="http://www.w3.org/1999/html">

</style>

<div class="mainMenuNucoilWindow-main">
    <div class="mainMenuNucoilWindow-menu">
        <div class="mainMenuNucoilWindow-menu-button" data-page_id="mainMenuNucoilWindow-body-fuel_id">
            &nbspТопливо&nbsp
        </div>
        <div class="mainMenuNucoilWindow-menu-button" style="display: none" data-page_id="mainMenuNucoilWindow-body-insurance_id">
            &nbspСтраховка&nbsp
        </div>
        <div class="mainMenuNucoilWindow-menu-button"  style="display: none" data-page_id="mainMenuNucoilWindow-body-appeals_id">
            &nbspКонтакт-центр&nbsp
        </div>
    </div>

    <div id="mainMenuNucoilWindow-body-fuel_id" class="mainMenuNucoilWindow-body-fuel mainMenuNucoilWindow-page-div">
        <div class="mainMenuNucoilWindow-body-fuel-left">
            <div class="mainMenuNucoilWindow-body-fuel-left-picture">
                <div class="mainMenuNucoilWindow-body-fuel-left-picture-picture"></div>
            </div>
            <div class="mainMenuNucoilWindow-body-fuel-left-name"></div>
            <div class="mainMenuNucoilWindow-body-fuel-left-description"></div>
        </div>
        <div class="mainMenuNucoilWindow-body-fuel-center">
            <div class="mainMenuNucoilWindow-body-fuel-center-balance">
                <div class="mainMenuNucoilWindow-body-fuel-center-balance-label">Топлива на вашем балансе:</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-balance-amount"></div>
            </div>
            <div class="mainMenuNucoilWindow-body-fuel-center-tank">
                <div class="mainMenuNucoilWindow-body-fuel-center-tank-label">Топливо в баке:</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-tank-progressbar">
                    <div class="mainMenuNucoilWindow-body-fuel-center-tank-progressbar-background"></div>
                    <div class="mainMenuNucoilWindow-body-fuel-center-tank-progressbar-label"></div>
                </div>
                <div class="mainMenuNucoilWindow-body-fuel-center-tank-empty">&#9650;<br/>E</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-tank-half">&#9650;<br/>1/2</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-tank-full">&#9650;<br/>F</div>
            </div>
            <div class="mainMenuNucoilWindow-body-fuel-center-count">
                <div class="mainMenuNucoilWindow-body-fuel-center-count-label">Объем:</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-count-amount">0 л.</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-count-amount-change">
                    <div class="mainMenuNucoilWindow-body-fuel-center-count-amount-change-up">&#9650;</div>
                    <div class="mainMenuNucoilWindow-body-fuel-center-count-amount-change-down">&#9660;</div>
                </div>
                <div class="mainMenuNucoilWindow-body-fuel-center-count-text">Или</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-count-button">Полный бак</div>
            </div>
            <div class="mainMenuNucoilWindow-body-fuel-center-down">
                <div class="mainMenuNucoilWindow-body-fuel-center-down-cans-label">Канистры:</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-down-cans-amount">0 л.</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-down-all-label" style="display: none">Все:</div>
                <div class="mainMenuNucoilWindow-body-fuel-center-down-all-check" style="display: none">[&radic;]</div>
            </div>
        </div>
        <div class="mainMenuNucoilWindow-body-fuel-right"></div>
        <div class="mainMenuNucoilWindow-body-fuel-down">
            <div class="mainMenuNucoilWindow-body-fuel-down-label">Итого:</div>
            <div class="mainMenuNucoilWindow-body-fuel-down-amount"></div>
            <div class="mainMenuNucoilWindow-body-fuel-down-button">Залить</div>
        </div>
        <div class="mainMenuNucoilWindow-body-fuel-subscription">
            <div class="mainMenuNucoilWindow-body-fuel-subscription-left-picture">Картинка</div>
            <div class="mainMenuNucoilWindow-body-fuel-subscription-text">
                Не прет? Не уехал от боевого мопеда?<br/>
                Попробуй Гептил от Нукойл.<br/>
                <b>"Гептил Нукойл"</b>: Замена поршней в подарок!
            </div>
            <div class="mainMenuNucoilWindow-body-fuel-subscription-right-picture">Картинка</div>
        </div>
    </div>

    <div id="mainMenuNucoilWindow-body-insurance_id"
         class="mainMenuNucoilWindow-body-insurance mainMenuNucoilWindow-page-div">
        <div class="mainMenuNucoilWindow-body-insurance-left">
            <div class="mainMenuNucoilWindow-body-insurance-left-name">Тариф "Стандарт"</div>
            <div class="mainMenuNucoilWindow-body-insurance-left-description">
                Стандартная страховка является обязательной и входит в оборудование Nuke Commander как базовая опция.
                В случае уничтожения транспортного средства и отключения систем жизнеобеспечения водителя наша служба
                спасения бесплатно эвакуирует Вас в ближайший город в течение 15 минут. Так же мы возместим рыночную
                стоимость транспортного средства без учета установленного на нем оборудования.
            </div>
            <div class="mainMenuNucoilWindow-body-insurance-left-activate">Оформить</div>
        </div>
        <div class="mainMenuNucoilWindow-body-insurance-up">
            Уважаемый Vasya78, статус Вашей страховки (т.п. "Премиум") истекает через 26 дней.
            В этой форме Вы можете продлить договор или сменить тарифный план в любое время.
        </div>
        <div class="mainMenuNucoilWindow-body-insurance-center">
            <div class="mainMenuNucoilWindow-body-insurance-center-title">Выберите тариф:</div>
            <div class="mainMenuNucoilWindow-body-insurance-center-standard">
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-title">[ ] Стандарт</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-picture">Картинка</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-evacuation">Эвакуация: 1</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-point">Выбор точки: х</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-payment">Выплата: 1</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-cost">15 000 кр\год</div>
            </div>
            <div class="mainMenuNucoilWindow-body-insurance-center-premium">
                <div class="mainMenuNucoilWindow-body-insurance-center-premium-title">[&radic;] Премиум</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-picture">Картинка</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-evacuation">Эвакуация: 2</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-point">Выбор точки: х</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-payment">Выплата: 2</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-cost">25 000 кр\год</div>
            </div>
            <div class="mainMenuNucoilWindow-body-insurance-center-vip">
                <div class="mainMenuNucoilWindow-body-insurance-center-vip-title">[ ] V.I.P.</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-picture">Картинка</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-evacuation">Эвакуация: 3</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-point">Выбор точки: &radic;</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-payment">Выплата: 3</div>
                <div class="mainMenuNucoilWindow-body-insurance-center-standard-cost">55 000 кр\год</div>
            </div>
        </div>
        <div class="mainMenuNucoilWindow-body-insurance-subscription">
            <div class="mainMenuNucoilWindow-body-insurance-subscription-left-picture">Картинка</div>
            <div class="mainMenuNucoilWindow-body-insurance-subscription-text">
                Не ждите, пока Ваши потери спросят Вас:<br/>
                <strong><em>"Э, слышь! Страховка есть? А если поищу?"</em></strong><br/>
                Полис <strong>"Нукойл VIP"</strong>: Все сгорело? Ну и хрен с ним!
            </div>
            <div class="mainMenuNucoilWindow-body-insurance-subscription-right-picture">Картинка</div>
        </div>
    </div>

    <div id="mainMenuNucoilWindow-body-appeals_id"
         class="mainMenuNucoilWindow-body-insurance mainMenuNucoilWindow-page-div">
        <div class="mainMenuNucoilWindow-body-appeals-left">
            <div class="mainMenuNucoilWindow-body-insurance-left-name">Ваши сообщения:</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-theme-closed">&#9658; Тех. проблемы</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-theme-closed">&#9658; Жалобы на игроков</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-theme-opened">&#9660; Вопросы</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-title-opened">&#9660; Почему не еду?</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-reply">Re:Почему не еду?</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-reply">Re2:Почему не еду?</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-reply">Re3:Почему не еду?</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-title-opened">&#9660; Почему не еду?#3</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-title-opened">&#9660; Почему не еду?#4</div>
            <div class="mainMenuNucoilWindow-body-appeals-left-title-opened">&#9660; Почему не еду?#5</div>
        </div>
        <div class="mainMenuNucoilWindow-body-appeals-up">
            Уважаемый Vasya78, на этой странице Вы можете насрать в душу и публично покарать каждого негодяя,
            кой смеет читерствовать в этой игре, или же морально уничтожить админов, оповестивши их,
            что проект - угэ, багов - море.
        </div>
        <div class="mainMenuNucoilWindow-body-appeals-center">
            <div class="mainMenuNucoilWindow-body-appeals-center-message">
                <div class="mainMenuNucoilWindow-body-appeals-center-message-title">Почему не еду?</div>
                <div class="mainMenuNucoilWindow-body-appeals-center-message-text">
                    Одмине! Вы олене! Игра ваша шлак, и йа вас всех вычислю по ойпи, лична найду
                    и выпилю кровавейше и жэстачайше! Каждага! Пащады нибудед!<br/>
                    <br/>
                    Ваш школьнег!
                </div>
            </div>
            <div class="mainMenuNucoilWindow-body-appeals-center-theme">
                <div class="mainMenuNucoilWindow-body-appeals-center-theme-technical">[х] Технические проблемы</div>
                <div class="mainMenuNucoilWindow-body-appeals-center-theme-complaints">[ ] Жалобы на игроков</div>
                <div class="mainMenuNucoilWindow-body-appeals-center-theme-questions">[ ] Вопросы</div>
            </div>
            <div class="mainMenuNucoilWindow-body-appeals-center-buttons">
                <div class="mainMenuNucoilWindow-body-appeals-center-buttons-back">Назад</div>
                <div class="mainMenuNucoilWindow-body-appeals-center-buttons-send">Отправить</div>
            </div>
        </div>
        <div class="mainMenuNucoilWindow-body-insurance-subscription">
            <div class="mainMenuNucoilWindow-body-insurance-subscription-left-picture">Картинка</div>
            <div class="mainMenuNucoilWindow-body-insurance-subscription-text">
                Не ждите, пока Ваши потери спросят Вас:<br/>
                <strong><em>"Э, слышь! Страховка есть? А если поищу?"</em></strong><br/>
                Полис <strong>"Нукойл VIP"</strong>: Все сгорело? Ну и хрен с ним!
            </div>
            <div class="mainMenuNucoilWindow-body-insurance-subscription-right-picture">Картинка</div>
        </div>
    </div>
</div>

<script>
    var userBalanceFuel = {{ agent.example.balance }};
    var userCarMaxFuel = {{ agent.example.car.max_fuel }};
    var userCarCurrentFuel = {{ agent.example.car.fuel }};
    var maxAvailableFuel;
    var currentFuelValue;
    var totalFuelValue;

    $(".mainMenuNucoilWindow-menu-button").click(function (event) {
        // выключить у всех кнопок состояние активности // btnpressed - дурацкое название, но зато точно не занято
        $('.mainMenuNucoilWindow-menu-button').removeClass('btnpressed');
        // включить только заданной кнопке "активна"
        $(this).addClass('btnpressed');
        // выключить отображение всех дивов
        $('.mainMenuNucoilWindow-page-div').css('display', 'none'); // лучше тоже сделать через классы
        // включить отображение только нужного дива (дата-атрибут - html5 атрибут, очень удобный...!)
        // сейчас сделал на айдишниках, но можно сделать и на классах, так как у тебя классы тут разные
        $('#' + $(this).data('page_id')).css('display', 'block');
    });

    // Клики кнопок "вверх" и "вниз"
    function setupCurrentFuelValue() {
        currentFuelValue = Math.round(currentFuelValue);
        $('.mainMenuNucoilWindow-body-fuel-center-count-amount').text(currentFuelValue + ' л.');
        setupFuelTotal();
    }

    function setupTankFuelValue() {
        $('.mainMenuNucoilWindow-body-fuel-center-down-cans-amount').text(locationManager.nucoil.tank_summ + ' л.');
    }

    $('.mainMenuNucoilWindow-body-fuel-center-count-amount-change-up').on('mousedown', function(event) {
        currentFuelValue++;
        currentFuelValue = (currentFuelValue >= maxAvailableFuel) ? maxAvailableFuel : currentFuelValue;
        setupCurrentFuelValue()
    });

    $('.mainMenuNucoilWindow-body-fuel-center-count-amount-change-down').on('mousedown', function(event) {
        currentFuelValue--;
        currentFuelValue = (currentFuelValue <= 0) ? 0 : currentFuelValue;
        setupCurrentFuelValue()
    });

    // Клик кнопки "полный бак"
    $('.mainMenuNucoilWindow-body-fuel-center-count-button').on('click', function(event){
        currentFuelValue = maxAvailableFuel;
        setupCurrentFuelValue();
    });

    // Клик кнопки "заправить"
    $('.mainMenuNucoilWindow-body-fuel-down-button').on('click', function(event){
        clientManager.sendFuelStationActive(currentFuelValue);
    });

    // Пересчитать "итого"
    function setupFuelTotal() {
        totalFuelValue = currentFuelValue + locationManager.nucoil.tank_summ;
        $('.mainMenuNucoilWindow-body-fuel-down-amount').text(totalFuelValue + ' л.');
    }

    // Инициализация заправки
    function initGasStation(aUserBalanceFuel, aUserCarCurrentFuel) {
        userBalanceFuel = aUserBalanceFuel;
        userCarCurrentFuel = aUserCarCurrentFuel;
        maxAvailableFuel = Math.min((userCarMaxFuel - userCarCurrentFuel), userBalanceFuel);
        currentFuelValue = 0;

        $('.mainMenuNucoilWindow-body-fuel-center-tank-progressbar-background')
            .css('width', Math.round(100 * userCarCurrentFuel / userCarMaxFuel) + '%');
        $('.mainMenuNucoilWindow-body-fuel-center-tank-progressbar-label').text(Math.round(userCarCurrentFuel) + ' л.');
        $('.mainMenuNucoilWindow-body-fuel-center-balance-amount').text(userBalanceFuel + ' л.');
        setupCurrentFuelValue();
    }
    initGasStation(userBalanceFuel, userCarCurrentFuel);

    // нужно выполнить какую-то функцию клика, например на первую кнопку, чтобы при
    // открывании окна правильно отрабатывала подсветка
    $(".mainMenuNucoilWindow-menu-button").first().click();
</script>

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Road Dogs Online</title>
    <style>
        body {
            padding: 0;
            margin: 0;
            width: 100%;
            height: 100%;
            background-color: #030f00;
        }

        .content-block {
            position: relative;
            width: 716px;
            height: 438px;
            margin: 50px auto;
        }

        .window-reg-up-btn {
            position: relative;
            cursor: pointer;
            margin: 20px auto;
            border: 2px solid #209509;
            background-color: #0d3207;
            border-radius: 1px;
            text-align: center;
            height: 35px;
            line-height: 35px;
            color: #31c811;
            width: 200px;
        }
        .window-reg-up-btn:hover {
            background-color: #16560c;
            color: #51ff00;
            border-color: #37ff10;
        }
        .window-reg-up-btn:active {
            background-color: #030f00;
            color: #00ff00;
            border-color: #008000;
        }
        .window-reg-up-btn.not-access {
            background-color: #777777;
            color: whitesmoke;
            border-color: #444444;
        }

    </style>

    <script> window.$ = window.jQuery = window.jquery = require('jquery'); </script>
</head>

<body>
    <div class="content-block">
        <div class="window-reg-up-btn" onclick="gotoSite(event)" data-address="http://192.168.1.104">192.168.1.104</div>
        <div class="window-reg-up-btn" onclick="gotoSite(event)" data-address="http://192.168.1.105">192.168.1.105</div>
    </div>
</body>

<script>
    function gotoSite(event) {
        var address = $(event.target).data("address");
        if (address) {
            $(event.target).addClass("not-access");
            $.ajax({
                url: address + '?mode=test',
                method: 'GET',
                data: {},
                timeout: 5000,
                success: function (data) {
                    console.log("success: site worked:", data);
                    window.location = address + '?mode=electron';
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log("error: site not worked:", jqXHR, textStatus, errorThrown);
                    setTimeout(function (args) { $(event.target).removeClass("not-access"); }, 10000);
                }
             });
        }
        else
            console.error("Not found addres: ", address);
    }

</script>

</html>



<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Road Dogs Online</title>

<style>
    #center_authorization {
        position: relative;
        margin: auto;
        width: 200px;
        height: 100px;
        border: 1px solid black;
        text-align: center;
        line-height: 100px;
        color: white;
        pointer-events: none;
        background-color: #7a807d;
    }

    #center_authorization.active {
        background-color: #006641;
        pointer-events: auto;
    }
</style>

</head>

<body>
    <h1>Road Dogs Online</h1>

    <div id="center_authorization" onclick="gotoSite()">Go To Road Dogs !!!</div>
    <div id="footer_test">
        We are using Node.js
        <script>
            document.write(process.versions.node)</script>,
            Chromium <script>document.write(process.versions.chrome)</script>,
            and Electron <script>document.write(process.versions.electron)</script>.
    </div>

    <!-- Правильный способ подключить jQuery в Electron приложении -->
    <script>window.$ = window.jQuery = require('jquery');</script>
</body>

<script>
  // You can also require other files to run in this process
  require('./renderer.js');
</script>

<script>
    var game_server = "http://192.168.1.104";

    function gotoSite() {
        window.location = game_server + '/site_api/electron';
    }

    // Установка _xsrf токена для работы сайта
    setTimeout(function () {
        $.ajax({
            url: game_server + '/site_api/electron?mode=test',
            method: 'GET',
            data: {},
            success: function (data) {
                console.log("success: site worked:", data);
                $("#center_authorization").addClass("active");
            },
            error: function (jqXHR, textStatus, errorThrown) {
                console.log("error: site not worked:", jqXHR, textStatus, errorThrown);
            }
        });
    }, 500);
</script>

</html>


